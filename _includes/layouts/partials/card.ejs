<%
  // const truncate = (input) => input.length > 200 ? `${input.substring(0, 200)}...` : input;
  // const abstract = truncate(card.abstract)

  let modifiers = ''
  if (card.mainTag) {
    modifiers = `${modifiers} c-card--${card.mainTag}`
  }
  if (card.modifiers) {
    card.modifiers.forEach((mod) => {
      modifiers = `${modifiers} c-card--${mod}`
    })
  }
%>


<article class="c-card <%=modifiers%>">
  <% if (card.hasImg) { %>
    <div class="c-card__img-wrapper">
      <%- include('../../../svg/'+card.mainTag+'.svg') %>
    </div>
  <% }; %>
  <div class="c-card__content">
    <a class="c-card__title" href="#">
      <h2 class="c-card__title-heading"><%= card.title %></h2>
    </a>
    <p class="c-card__abstract"><%= card.abstract %></p>
    <% if (card.table) { %>
      <%- include('../table/table.ejs'); %>
    <% } %>
    <div class="c-card__bottom">
      <% if (card.date) { %>
      <time class="c-card__date" time="<%= card.date %>"><%= card.date %></time>
      <% }; %>
      <div class="c-card__tags">
        <% card.categories.forEach(function(category){ %>
          <a class="c-label" href="#"><%= category %></a>
        <% }) %>
      </div>
    </div>
  </div>
</article>
